
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script
      src="https://code.jquery.com/jquery-3.2.0.min.js"
      integrity="sha256-JAW99MJVpJBGcbzEuXk4Az05s/XyDdBomFqNlM3ic+I="
      crossorigin="anonymous"></script>

    <script src="js/aud.js" charset="utf-8"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.9/semantic.min.css">
    <script src="https://cdn.jsdelivr.net/semantic-ui/2.2.9/semantic.min.js"></script>
    <link rel="stylesheet" href="css/range.css">
    <script src="js/range.js" charset="utf-8"></script>
    <script type="text/javascript">
        $(document).ready(function() {
          $('body').keypress(function(event){
            $('.keydisp').html(`${Math.floor(oscillator.frequency.value)} hz`)
          })
          $('#vol').range({
              min: 0,
              max: 1,
              step:.02,
              start: .06,
              onChange: function(value, meta) {
                  if(meta.triggeredByUser) {
                    gainNode.gain.value = value;
                  }
              }
          });
          $('#vol2').range({
              min: 0,
              max: 1,
              step:.02,
              start: .06,
              onChange: function(value, meta) {
                  if(meta.triggeredByUser) {
                    gainNode2.gain.value = value;
                  }
              }
          });
          $('#wave').range({
              min: 0,
              max: 3,
              step:1,
              start:0,
              onChange: function(value, meta) {
                  if(meta.triggeredByUser) {
                    if(value == 0){
                      oscillator.type = 'sine'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wavdisp').html('∿');
                    }
                    if(value == 1){
                      oscillator.type = 'square'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wavdisp').html('∏');
                    }
                    if(value == 2){
                      oscillator.type = 'sawtooth'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wavdisp').html('⊿');
                    }
                    if(value == 3){
                      oscillator.type = 'triangle'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wavdisp').html('⋀');
                    }
                  }
              }
          });
          $('#wave2').range({
              min: 0,
              max: 3,
              step:1,
              start:0,
              onChange: function(value, meta) {
                  if(meta.triggeredByUser) {
                    if(value == 0){
                      oscillator2.type = 'sine'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wav2disp').html('∿');
                    }
                    if(value == 1){
                      oscillator2.type = 'square'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wav2disp').html('∏');
                    }
                    if(value == 2){
                      oscillator2.type = 'sawtooth'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wav2disp').html('⊿');
                    }
                    if(value == 3){
                      oscillator2.type = 'triangle'; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'
                      $('.wav2disp').html('⋀');
                    }

                  }
              }
          });
          $('#freq').range({
              min: 20,
              max: 9000,
              step:1,
              start:200,
              onChange: function(value, meta) {
                  if(meta.triggeredByUser) {

                    oscillator.frequency.value = value; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'

                  }
              }
          });
          $('#freq2').range({
              min: 20,
              max: 9000,
              step:1,
              start:200,
              onChange: function(value, meta) {
                  if(meta.triggeredByUser) {

                    oscillator2.frequency.value = value; // sine wave — other values are 'square', 'sawtooth', 'triangle' and 'custom'

                  }
              }
          });
        });

    </script>
  </head>
  <body>
    <div class="ui grid">
      <div class="eight wide column">
        <h3>osc 1</h3>
        vol<div class="ui range" id="vol"></div>
        wave<span class="wavdisp"></span><div class="ui range" id="wave"></div>
        hz [make this a modifier of keyhz + bend]<div class="ui range" id="freq"></div>
      </div>
      <div class="eight wide column">
        <h3>osc 2</h3>
        vol<div class="ui range" id="vol2"></div>
        wave<span class="wav2disp"></span><div class="ui range" id="wave2"></div>
        hz [make this a modifier of keyhz + bend]<div class="ui range" id="freq2"></div>
      </div>

      <div class="keydisp">

      </div>
    </div>
  </body>
</html>
